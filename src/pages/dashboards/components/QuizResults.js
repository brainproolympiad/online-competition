import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
// src/pages/dashboards/components/QuizResults.tsx
import React from "react";
const QuizResults = ({ quizResult, quiz, user, navigate, }) => {
    const formatTimeSpent = (seconds) => {
        if (!seconds)
            return "N/A";
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins}m ${secs}s`;
    };
    const isPassed = quizResult.passed;
    const emoji = isPassed ? "" : "";
    const headerColor = isPassed ? "text-green-700" : "text-red-700";
    const bgColor = isPassed ? "bg-green-50" : "bg-red-50";
    const borderColor = isPassed ? "border-green-200" : "border-red-200";
    return (_jsx("div", { className: "min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 py-10 px-6 flex items-center justify-center", children: _jsxs("div", { className: "max-w-3xl w-full bg-white rounded-3xl shadow-2xl p-10 animate-fadeIn", children: [_jsxs("div", { className: "text-center mb-8", children: [_jsx("h1", { className: "text-4xl font-extrabold text-gray-800 mb-2", children: "Quiz Results" }), _jsx("p", { className: "text-lg text-gray-500", children: quiz?.title }), _jsxs("p", { className: "text-sm text-gray-400 mt-2", children: ["Submitted on ", new Date(quizResult.completed_at).toLocaleString()] })] }), _jsxs("div", { className: `${bgColor} ${borderColor} border rounded-2xl text-center p-10 transition-all duration-500`, children: [_jsx("div", { className: "text-6xl mb-3", children: emoji }), _jsx("h2", { className: `text-2xl font-bold ${headerColor}`, children: isPassed
                                ? "Congratulations! You Passed"
                                : "Better Luck Next Time" }), _jsx("p", { className: "text-gray-500 mt-2", children: "You have completed this quiz successfully." }), _jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 mt-8", children: [_jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm", children: [_jsx("p", { className: "text-sm text-gray-500", children: "Score" }), _jsxs("p", { className: "text-2xl font-bold text-blue-600", children: [quizResult.score, "/", quiz.total_questions] })] }), _jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm", children: [_jsx("p", { className: "text-sm text-gray-500", children: "Percentage" }), _jsxs("p", { className: "text-2xl font-bold text-purple-600", children: [quizResult.percentage.toFixed(1), "%"] })] }), _jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm", children: [_jsx("p", { className: "text-sm text-gray-500", children: "Correct" }), _jsxs("p", { className: "text-2xl font-bold text-green-600", children: [quizResult.correct_answers, "/", quizResult.total_questions] })] }), _jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm", children: [_jsx("p", { className: "text-sm text-gray-500", children: "Time Spent" }), _jsx("p", { className: "text-lg font-bold text-orange-500", children: formatTimeSpent(quiz.time_spent) })] })] }), _jsxs("p", { className: "text-gray-500 mt-4", children: ["Passing Score:", " ", _jsxs("span", { className: "font-semibold", children: [quiz.passing_score, "%"] })] })] }), quizResult.warnings > 0 && (_jsxs("div", { className: "bg-yellow-50 border border-yellow-200 rounded-2xl p-6 mt-8", children: [_jsxs("h3", { className: "text-lg font-semibold text-yellow-800", children: ["Proctoring Warnings: ", quizResult.warnings, "/10"] }), quizResult.violations?.length > 0 && (_jsx("ul", { className: "list-disc list-inside mt-3 text-sm text-yellow-700 space-y-1", children: quizResult.violations.map((v, i) => (_jsx("li", { children: v }, i))) }))] })), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-3 gap-4 text-center mt-10", children: [_jsxs("div", { className: "bg-gray-50 p-4 rounded-xl", children: [_jsx("p", { className: "text-xs text-gray-500", children: "Student" }), _jsx("p", { className: "font-medium", children: user?.fullName })] }), _jsxs("div", { className: "bg-gray-50 p-4 rounded-xl", children: [_jsx("p", { className: "text-xs text-gray-500", children: "Class" }), _jsx("p", { className: "font-medium", children: user?.classLevel })] }), _jsxs("div", { className: "bg-gray-50 p-4 rounded-xl", children: [_jsx("p", { className: "text-xs text-gray-500", children: "Course" }), _jsx("p", { className: "font-medium", children: quiz.title })] })] }), _jsxs("div", { className: "flex flex-col sm:flex-row gap-4 justify-center mt-10", children: [_jsx("button", { onClick: () => navigate("/dashboard"), className: "bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-semibold shadow-md hover:shadow-lg transition-all", children: "Dashboard" }), _jsx("button", { onClick: () => window.print(), className: "bg-gray-700 hover:bg-gray-800 text-white px-8 py-3 rounded-xl font-semibold shadow-md hover:shadow-lg transition-all", children: "Print" })] }), _jsx("div", { className: "text-center text-gray-400 text-xs mt-8", children: _jsxs("p", { children: ["Result ID: ", quizResult.quiz_id] }) })] }) }));
};
export default QuizResults;
