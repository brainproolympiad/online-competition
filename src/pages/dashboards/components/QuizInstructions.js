import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
// src/pages/dashboards/components/QuizInstructions.tsx
import React from "react";
const QuizInstructions = ({ quiz, user, questionsLoading, questions, proctoringError, hasExistingAttempt, previousAttempts, maxAttemptsReached, latestCompletedAttempt, isCheckingAttempts, onStartQuiz, onViewResults, }) => {
    const shouldBlockQuiz = maxAttemptsReached || hasExistingAttempt;
    const relevantAttempt = latestCompletedAttempt || previousAttempts[0] || null;
    return (_jsx("div", { className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-10 px-4", children: _jsxs("div", { className: "w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden", children: [_jsxs("div", { className: "text-center py-8 px-6 bg-white border-b", children: [_jsx("h1", { className: "text-3xl font-bold text-gray-800 mb-2", children: quiz.title }), _jsx("p", { className: "text-gray-500", children: quiz.description })] }), _jsxs("div", { className: "p-8", children: [user && (_jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6", children: [_jsxs("div", { className: "bg-blue-50 p-4 rounded-lg text-center", children: [_jsx("p", { className: "text-sm text-blue-600", children: "Name" }), _jsx("p", { className: "font-semibold text-gray-800", children: user.fullName })] }), _jsxs("div", { className: "bg-green-50 p-4 rounded-lg text-center", children: [_jsx("p", { className: "text-sm text-green-600", children: "Class" }), _jsx("p", { className: "font-semibold text-gray-800", children: user.classLevel })] }), _jsxs("div", { className: "bg-purple-50 p-4 rounded-lg text-center", children: [_jsx("p", { className: "text-sm text-purple-600", children: "Course" }), _jsx("p", { className: "font-semibold text-gray-800", children: quiz.title })] })] })), _jsx("div", { className: "bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r mb-6", children: _jsxs("p", { className: "text-sm text-yellow-800 leading-relaxed", children: [_jsx("strong", { children: "\uD83D\uDD12 Privacy First:" }), " Your camera will be used", " ", _jsx("strong", { children: "only during the quiz" }), " to ensure fairness and integrity. We do not record, store, or share any footage \u2014 your privacy remains ", _jsx("strong", { children: "fully protected" }), "."] }) }), _jsxs("div", { className: "bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6", children: [_jsx("h2", { className: "text-xl font-semibold text-blue-800 mb-4", children: "\uD83D\uDCD8 Quiz Details" }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-700", children: [_jsxs("p", { children: [_jsx("strong", { children: "Duration:" }), " ", quiz.duration_minutes, " minutes"] }), _jsxs("p", { children: [_jsx("strong", { children: "Questions:" }), " ", quiz.total_questions] }), _jsxs("p", { children: [_jsx("strong", { children: "Passing Score:" }), " ", quiz.passing_score, "%"] }), _jsxs("p", { children: [_jsx("strong", { children: "Attempt:" }), " One per participant"] })] })] }), _jsx("div", { className: "bg-red-50 border border-red-200 rounded-lg p-4 mb-6", children: _jsxs("p", { className: "text-sm text-red-700", children: ["\uD83D\uDEAB ", _jsx("strong", { children: "Note:" }), " Right-click, switching tabs, or leaving fullscreen will affect your session. Stay focused!"] }) }), shouldBlockQuiz && relevantAttempt && (_jsxs("div", { className: "bg-red-50 border border-red-200 rounded-lg p-5 text-center mb-6", children: [_jsx("p", { className: "text-red-700 font-semibold text-lg mb-2", children: "You\u2019ve already attempted this quiz." }), _jsxs("p", { className: "text-sm text-red-600", children: [_jsx("strong", { children: "Score:" }), " ", relevantAttempt.score, "% |", " ", _jsx("strong", { children: "Correct:" }), " ", relevantAttempt.correct_answers, "/", quiz.total_questions] }), onViewResults && (_jsx("button", { onClick: () => onViewResults(relevantAttempt), className: "mt-4 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-6 rounded-lg transition", children: "View Result" }))] })), _jsxs("div", { className: "text-center", children: [shouldBlockQuiz ? (_jsx("button", { onClick: () => window.history.back(), className: "bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-10 rounded-lg shadow-md", children: "Back to Dashboard" })) : (_jsx("button", { onClick: onStartQuiz, disabled: questionsLoading || questions.length === 0 || isCheckingAttempts, className: `px-10 py-4 text-lg font-semibold rounded-xl transition-all ${questionsLoading || questions.length === 0 || isCheckingAttempts
                                        ? "bg-gray-400 cursor-not-allowed"
                                        : "bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white shadow-lg hover:scale-105"}`, children: isCheckingAttempts
                                        ? "Checking..."
                                        : questionsLoading
                                            ? "Loading..."
                                            : questions.length === 0
                                                ? "No Questions Available"
                                                : "Start Quiz" })), proctoringError && (_jsx("p", { className: "mt-4 text-red-600 text-sm bg-red-50 p-3 rounded-lg", children: proctoringError }))] })] })] }) }));
};
export default QuizInstructions;
