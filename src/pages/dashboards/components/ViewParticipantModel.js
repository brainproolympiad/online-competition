import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
// src/components/ViewParticipantModal.tsx
import React from 'react';
const ViewParticipantModal = ({ participant, isOpen, onClose }) => {
    if (!isOpen || !participant)
        return null;
    return (_jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: _jsxs("div", { className: "bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto", children: [_jsxs("div", { className: "flex justify-between items-center mb-6", children: [_jsx("h2", { className: "text-2xl font-bold text-gray-800", children: "Participant Details" }), _jsx("button", { onClick: onClose, className: "text-gray-500 hover:text-gray-700 text-2xl", children: "\u00D7" })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs("div", { className: "space-y-4", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-700 border-b pb-2", children: "Personal Information" }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Full Name" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.fullName })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Email" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.email })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Phone" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.phone || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Gender" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.gender || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Date of Birth" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.dob || 'N/A' })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-700 border-b pb-2", children: "Educational Information" }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Class Level" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.classLevel })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "School Name" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.schoolName || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "School Type" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.schoolType || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Term" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.term || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Favorite Subject" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.favoriteSubject || 'N/A' })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-700 border-b pb-2", children: "Location Information" }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "State" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.state || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "LGA" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.lga || 'N/A' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Address" }), _jsx("p", { className: "mt-1 text-sm text-gray-900", children: participant.address || 'N/A' })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-700 border-b pb-2", children: "Courses & Payment" }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Courses" }), _jsx("div", { className: "mt-1 flex flex-wrap gap-1", children: participant.courses.map((course, index) => (_jsx("span", { className: "inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded", children: course }, index))) })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Payment Status" }), _jsx("p", { className: `mt-1 text-sm font-medium ${participant.paid ? 'text-green-600' : 'text-red-600'}`, children: participant.paid ? 'Paid' : 'Unpaid' })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Amount Paid" }), _jsxs("p", { className: "mt-1 text-sm text-gray-900", children: ["\u20A6", participant.amountPaid || 0] })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-600", children: "Quiz Link" }), _jsx("p", { className: "mt-1 text-sm text-gray-900 break-all", children: participant.quizLink || 'No quiz link assigned' })] })] })] }), _jsxs("div", { className: "mt-8", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-700 border-b pb-2 mb-4", children: "Quiz Scores" }), participant.quizAttempts && participant.quizAttempts.length > 0 ? (_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("h4", { className: "font-medium text-gray-700 mb-3", children: "Individual Quiz Attempts" }), _jsx("div", { className: "overflow-x-auto", children: _jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [_jsx("thead", { className: "bg-gray-50", children: _jsxs("tr", { children: [_jsx("th", { className: "px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase", children: "Quiz" }), _jsx("th", { className: "px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase", children: "Subject" }), _jsx("th", { className: "px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase", children: "Score" }), _jsx("th", { className: "px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase", children: "Percentage" }), _jsx("th", { className: "px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase", children: "Submitted" })] }) }), _jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: participant.quizAttempts.map((attempt) => (_jsxs("tr", { children: [_jsx("td", { className: "px-4 py-2 text-sm text-gray-900", children: attempt.quizzes?.title || 'Unknown Quiz' }), _jsx("td", { className: "px-4 py-2 text-sm text-gray-600", children: attempt.quizzes?.subject || 'Unknown' }), _jsxs("td", { className: "px-4 py-2 text-sm text-gray-900", children: [attempt.score, "/", attempt.total_questions] }), _jsxs("td", { className: "px-4 py-2 text-sm text-gray-900", children: [attempt.total_questions > 0
                                                                            ? Math.round((attempt.score / attempt.total_questions) * 100)
                                                                            : 0, "%"] }), _jsx("td", { className: "px-4 py-2 text-sm text-gray-600", children: attempt.submitted_at
                                                                        ? new Date(attempt.submitted_at).toLocaleDateString()
                                                                        : 'Not submitted' })] }, attempt.id))) })] }) })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg", children: [_jsxs("div", { className: "text-center", children: [_jsx("div", { className: "text-2xl font-bold text-blue-600", children: participant.quizAttempts.length }), _jsx("div", { className: "text-sm text-gray-600", children: "Total Quizzes Taken" })] }), _jsxs("div", { className: "text-center", children: [_jsx("div", { className: "text-2xl font-bold text-green-600", children: participant.totalScore }), _jsx("div", { className: "text-sm text-gray-600", children: "Total Score" })] }), _jsxs("div", { className: "text-center", children: [_jsxs("div", { className: "text-2xl font-bold text-purple-600", children: [participant.averageScore, "%"] }), _jsx("div", { className: "text-sm text-gray-600", children: "Average Score" })] })] }), Object.keys(participant.subjectScores || {}).length > 0 && (_jsxs("div", { children: [_jsx("h4", { className: "font-medium text-gray-700 mb-3", children: "Subject-wise Performance" }), _jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3", children: Object.entries(participant.subjectScores).map(([subject, data]) => (_jsxs("div", { className: "bg-white border border-gray-200 rounded-lg p-4", children: [_jsx("div", { className: "font-medium text-gray-900", children: subject }), _jsxs("div", { className: "mt-2 space-y-1", children: [_jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-gray-600", children: "Total Score:" }), _jsx("span", { className: "font-medium", children: data.score })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-gray-600", children: "Percentage:" }), _jsxs("span", { className: "font-medium", children: [data.percentage, "%"] })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-gray-600", children: "Attempts:" }), _jsx("span", { className: "font-medium", children: data.attempts })] })] })] }, subject))) })] }))] })) : (_jsx("div", { className: "text-center py-8 text-gray-500", children: "No quiz attempts recorded yet." }))] }), _jsx("div", { className: "mt-6 flex justify-end", children: _jsx("button", { onClick: onClose, className: "bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600", children: "Close" }) })] }) }));
};
export default ViewParticipantModal;
